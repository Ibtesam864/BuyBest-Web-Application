

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Register</title>
  <style>
    .card-shadow {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .hover-effect {
      transition: all 0.3s ease;
    }

    .hover-effect:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>

<body class="bg-[#FAFAFA] flex flex-col min-h-screen">
  <div id="navbarContainer"></div>

  <script>
    fetch("/navbar_content")
      .then((response) => response.text())
      .then((html) => {
        document.getElementById("navbarContainer").innerHTML = html;
      });
  </script>
  <div class="flex justify-center items-center flex-1">
    <div class="bg-[#F1F1F1] p-6 rounded-lg card-shadow w-full max-w-md">
      <h1 class="text-2xl font-bold text-[#212121] text-center mb-4">Register</h1>
      <form id="registerForm" method="POST" action="/register">
        <div class="mb-4">
          <label for="name" class="block text-[#757575] mb-2">Full Name</label>
          <input type="text" name="name" class="w-full p-2 border border-gray-300 rounded" placeholder="Full Name" required>
        </div>
        <div class="mb-4">
          <label for="email" class="block text-[#757575] mb-2">Email</label>
          <input type="email" name="email" class="w-full p-2 border border-gray-300 rounded" placeholder="Email" required>
        </div>
        <div class="mb-4">
          <label for="password" class="block text-[#757575] mb-2">Password</label>
          <input type="password" name="password" class="w-full p-2 border border-gray-300 rounded" placeholder="Password" required>
        </div>
        <div class="mb-4">
          <label for="confirm_password" class="block text-[#757575] mb-2">Confirm Password</label>
          <input type="password" name="confirm_password" class="w-full p-2 border border-gray-300 rounded" placeholder="Confirm Password" required>
        </div>
        <button type="submit" class="w-full bg-[#4CAF50] text-white p-2 rounded hover-effect hover:bg-[#45a049]">Register</button>
        <p class="text-center mt-2">Already have an account? <a href="/login" class="text-[#29B6F6] hover:underline">Login</a></p>
      </form>
      <div id="message"></div>

      <script>
        document.getElementById('registerForm').addEventListener('submit', async (e) => {
          e.preventDefault();
          const formData = new FormData(e.target);
          const response = await fetch('/register', {
            method: 'POST',
            body: formData
          });
          const data = await response.json();
          const messageDiv = document.getElementById('message');
          if (response.ok) {
            messageDiv.innerHTML = data.message;
            setTimeout(() => window.location.href = '/home', 1000); // Redirect to home after 1 second
          } else {
            messageDiv.innerHTML = `Error: ${data.error}`;
          }
        });
      </script>

    </div>
  </div>
</body>

</html>